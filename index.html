<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Personalised Belly Fat Loss Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="text-[#073B4C]">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#118AB2] mb-2">Your Path to a Healthier You</h1>
            <p class="text-lg text-gray-600">A personalised diet and exercise plan to help you lose belly fat, designed for a 28-year-old female.</p>
        </header>

        <main class="grid grid-cols-1 gap-8">

            <!-- User Information Form -->
            <section class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Tell Us About Yourself</h2>
                <p class="text-center text-gray-600 mb-6">Help us create your personalized diet and exercise plan</p>
                
                <div class="max-w-2xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Gender</label>
                            <select id="genderInput" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Age (years)</label>
                            <input id="ageInput" type="number" placeholder="e.g., 28" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Weight (kg)</label>
                            <input id="weightInput" type="number" placeholder="e.g., 60" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Height</label>
                            <div class="flex gap-2">
                                <input id="heightFeetInput" type="number" placeholder="5" min="3" max="8" class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                                <span class="flex items-center text-gray-500">ft</span>
                                <input id="heightInchesInput" type="number" placeholder="5" min="0" max="11" class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                                <span class="flex items-center text-gray-500">in</span>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">Or enter in cm below</p>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Height (cm)</label>
                            <input id="heightCmInput" type="number" placeholder="e.g., 165" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Region of India</label>
                        <select id="regionInput" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                            <option value="">Select Region</option>
                            <option value="north">North India</option>
                            <option value="south">South India</option>
                            <option value="east">East India</option>
                            <option value="west">West India</option>
                            <option value="northeast">Northeast India</option>
                            <option value="central">Central India</option>
                        </select>
                    </div>
                    
                    <div class="text-center">
                        <button id="generatePersonalizedPlan" class="bg-[#118AB2] text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                            Generate My Personalized Plan
                        </button>
                    </div>
                </div>
            </section>

            <!-- AI Chat Window -->
            <section id="aiChatSection" class="bg-white rounded-lg shadow-md p-6 hidden">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Your AI Nutrition & Fitness Coach</h2>
                <p class="text-center text-gray-600 mb-4">Ask me anything about your diet, exercise, or meal planning!</p>
                
                <div class="max-w-4xl mx-auto">
                    <div class="mb-4">
                        <input id="chatInput" type="text" placeholder="Ask about recipes, meal plans, exercises, or nutrition tips..." class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#118AB2]">
                    </div>
                    <div class="text-center">
                        <button id="askAI" class="bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors">
                            Ask AI Coach
                        </button>
                    </div>
                </div>
            </section>

        </main>
        
        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>This infographic is a guide based on your provided plan. Consult a healthcare professional before starting any new diet or exercise routine.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const generatePersonalizedPlanBtn = document.getElementById('generatePersonalizedPlan');
            const genderInput = document.getElementById('genderInput');
            const ageInput = document.getElementById('ageInput');
            const weightInput = document.getElementById('weightInput');
            const heightFeetInput = document.getElementById('heightFeetInput');
            const heightInchesInput = document.getElementById('heightInchesInput');
            const heightCmInput = document.getElementById('heightCmInput');
            const regionInput = document.getElementById('regionInput');
            const aiChatSection = document.getElementById('aiChatSection');
            const askAIBtn = document.getElementById('askAI');
            const chatInput = document.getElementById('chatInput');

            generatePersonalizedPlanBtn.addEventListener('click', function() {
                const gender = genderInput.value;
                const age = ageInput.value;
                const weight = weightInput.value;
                const heightFeet = heightFeetInput.value;
                const heightInches = heightInchesInput.value;
                const heightCm = heightCmInput.value;
                const region = regionInput.value;

                // Calculate height in cm
                let heightInCm = 0;
                if (heightFeet && heightInches) {
                    heightInCm = (parseInt(heightFeet) * 30.48) + (parseInt(heightInches) * 2.54);
                } else if (heightCm) {
                    heightInCm = parseInt(heightCm);
                }

                if (!gender || !age || !weight || !region || heightInCm === 0) {
                    alert('Please fill in all fields to generate your personalized plan. Make sure to enter height in either feet/inches or cm.');
                    return;
                }

                // Store height in cm for later use
                window.userHeight = heightInCm;

                // Show AI chat section
                aiChatSection.classList.remove('hidden');
                
                // Scroll to AI chat section
                aiChatSection.scrollIntoView({ behavior: 'smooth' });
            });

            askAIBtn.addEventListener('click', function() {
                const question = chatInput.value.trim();
                if (!question) {
                    alert('Please enter your question.');
                    return;
                }

                // Get user details for context
                const gender = genderInput.value;
                const age = ageInput.value;
                const weight = weightInput.value;
                const height = window.userHeight || heightCmInput.value;
                const region = regionInput.value;

                // Create comprehensive prompt
                const prompt = `I am an Indian person from ${region} India looking for personalized health and fitness advice. My details: ${gender}, ${age} years old, ${Math.round(height)}cm tall, ${weight}kg weight.

Question: ${question}

Please provide detailed, culturally appropriate advice for:
- Indian cuisine and cooking methods
- Regional food preferences from ${region} India
- Practical meal planning for Indian kitchens
- Exercise routines suitable for Indian lifestyle
- Weight loss and belly fat reduction strategies

Make your response specific to my profile and region.`;

                // Open ChatGPT with the comprehensive prompt
                openChatGPT(prompt, 'general');
            });

            // Allow Enter key to submit chat
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    askAIBtn.click();
                }
            });
        });

        // ChatGPT Integration Functions
        function openChatGPT(input, type) {
            let prompt = '';
            
            if (type === 'general') {
                prompt = input; // Use the input directly as it's already formatted
            } else if (type === 'recipe') {
                prompt = `I am an Indian person looking for a healthy recipe for belly fat loss. Please create a healthy Indian recipe for "${input}". 

Requirements:
- Focus on North Indian and West Indian cuisine
- Use common Indian ingredients available in Indian kitchens
- Make it suitable for fat loss (low calorie, high protein, high fiber)
- Include specific measurements and cooking instructions
- Keep it simple and practical for daily cooking
- Avoid excessive oil, sugar, and refined flour
- Include nutritional benefits

Please provide:
1. Recipe name
2. Ingredients with quantities
3. Step-by-step cooking instructions
4. Approximate calories per serving
5. Nutritional benefits for weight loss`;
            } else if (type === 'meal-plan') {
                const [age, height, weight] = input.split(',');
                prompt = `I am an Indian person looking for a personalized meal plan for belly fat loss. My details: Age ${age} years, Height ${height} cm, Weight ${weight} kg.

Please create a comprehensive meal plan with the following requirements:

Personal Details:
- Indian person living in India
- Age: ${age} years
- Height: ${height} cm  
- Weight: ${weight} kg
- Goal: Belly fat loss and overall weight loss

Requirements:
- Focus on North Indian and West Indian cuisine
- Use common Indian ingredients and dishes
- Include traditional Indian meals (dal, roti, sabzi, rice, etc.)
- Plan for Indian cooking methods and spices
- Include Indian snacks and beverages
- Consider Indian meal timings and culture
- Make it practical for Indian kitchen setup

Please provide:
1. Daily calorie target based on my stats
2. Daily meal plan (Breakfast, Lunch, Dinner, Snacks)
3. Weekly meal variations
4. Specific Indian dishes with calorie counts
5. Indian cooking tips for weight loss
6. Hydration plan (including Indian beverages like buttermilk, green tea)
7. Shopping list of Indian ingredients

Format it clearly with sections for each day and meal.`;
            }
            
            // Open ChatGPT in same page with pre-filled prompt
            const chatgptUrl = `https://chat.openai.com/?q=${encodeURIComponent(prompt)}`;
            window.location.href = chatgptUrl;
        }
    </script>

</body>
</html>
