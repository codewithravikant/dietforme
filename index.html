<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Personalised Belly Fat Loss Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="text-[#073B4C]">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#118AB2] mb-2">Your Path to a Healthier You</h1>
            <p class="text-lg text-gray-600">A personalised diet and exercise plan to help you lose belly fat, designed for a 28-year-old female.</p>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6 flex flex-col md:flex-row items-center justify-center text-center">
                <div class="mb-4 md:mb-0 md:mr-8">
                    <h2 class="text-2xl font-semibold text-[#118AB2] mb-2">Daily Calorie Target</h2>
                    <p class="text-gray-600">A moderate deficit for sustainable fat loss without feeling deprived.</p>
                </div>
                <div class="text-7xl font-bold text-[#FF6B6B]">
                    1,500
                    <span class="text-5xl text-gray-500">-</span>
                    1,600
                    <span class="text-3xl text-gray-400 block">kcal</span>
                </div>
            </section>
            
            <section class="lg:col-span-1 md:col-span-1 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-4">Meal Calorie Distribution</h2>
                <p class="text-center text-gray-600 mb-4">Balancing your energy intake throughout the day is key. Here‚Äôs a typical breakdown.</p>
                <div class="chart-container">
                    <canvas id="calorieDistributionChart"></canvas>
                </div>
            </section>
            
            <section class="lg:col-span-2 md:col-span-1 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Nourishing Meal Ideas</h2>
                 <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                        <h3 class="font-bold text-green-800 mb-2">Breakfast (300-350 kcal)</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            <li>Vegetable Poha with peanuts</li>
                            <li>Moong Dal Chilla with chutney</li>
                            <li>Stuffed Paratha with curd</li>
                        </ul>
                    </div>
                     <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                        <h3 class="font-bold text-yellow-800 mb-2">Lunch (450-500 kcal)</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            <li>Roti with Dal and Sabzi</li>
                            <li>Brown Rice with Rajma/Chole</li>
                            <li>Grilled Paneer with veggies</li>
                        </ul>
                    </div>
                     <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                        <h3 class="font-bold text-blue-800 mb-2">Dinner (400-450 kcal)</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            <li>Vegetable Khichdi or Daliya</li>
                            <li>Lentil soup with 1 Roti</li>
                            <li>Saut√©ed vegetables</li>
                        </ul>
                    </div>
                     <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                        <h3 class="font-bold text-red-800 mb-2">Snacks (100-150 kcal each)</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-1">
                            <li>Fresh fruit (apple, guava)</li>
                            <li>Roasted chana or makhana</li>
                            <li>Buttermilk or green tea</li>
                        </ul>
                    </div>
                </div>
            </section>

             <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Your AI Nutrition Coach</h2>
                <p class="text-center text-gray-600 mb-4">Need a new recipe idea? Ask our AI coach for a healthy suggestion that fits your diet plan.</p>
                <div class="flex flex-col items-center space-y-4">
                    <input id="recipeInput" type="text" placeholder="e.g., 'lentil dish' or 'healthy snack'" class="w-full md:w-2/3 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-[#118AB2] focus:border-transparent">
                    <button id="generateBtn" class="bg-[#118AB2] text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                        Generate Recipe
                    </button>
                    <div id="recipeOutput" class="w-full md:w-2/3 mt-4 p-4 bg-gray-100 rounded-lg text-gray-700 min-h-[100px] flex items-center justify-center text-center">
                        Your recipe will appear here.
                    </div>
                </div>
            </section>
            
            <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Your Personalized Food Planner</h2>
                <p class="text-center text-gray-600 mb-4">Enter your details to generate a customized daily and weekly meal plan for you. </p>
                <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 mb-6">
                    <input id="ageInput" type="number" placeholder="Age (e.g., 28)" class="w-full md:w-1/3 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-[#FFD166]">
                    <input id="heightInput" type="number" placeholder="Height in cm (e.g., 165)" class="w-full md:w-1/3 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-[#06D6A0]">
                    <input id="weightInput" type="number" placeholder="Weight in kg (e.g., 60)" class="w-full md:w-1/3 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-[#FF6B6B]">
                </div>
                <div class="flex flex-col items-center space-y-4">
                    <button id="generatePlanBtn" class="bg-[#118AB2] text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105">
                        Generate My Plan
                    </button>
                    <div id="plannerOutput" class="w-full mt-4 p-4 bg-gray-100 rounded-lg text-gray-700 min-h-[200px]">
                        <p class="text-center text-gray-500">Your personalized daily and weekly food planner will appear here.</p>
                    </div>
                </div>
            </section>

            <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Your Weekly Movement Plan</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                    <div class="bg-[#FFD166] bg-opacity-20 p-6 rounded-lg">
                        <div class="text-4xl mb-2">üßò‚Äç‚ôÄÔ∏è</div>
                        <h3 class="text-xl font-bold">Surya Namaskar</h3>
                        <p class="text-gray-700">A full-body yoga flow to boost metabolism. Start with 5 rounds and build to 12 daily.</p>
                    </div>
                    <div class="bg-[#06D6A0] bg-opacity-20 p-6 rounded-lg">
                        <div class="text-4xl mb-2">üèÉ‚Äç‚ôÄÔ∏è</div>
                        <h3 class="text-xl font-bold">Cardio</h3>
                        <p class="text-gray-700">Essential for fat loss. Aim for 3-4 sessions of 30-45 minutes per week (brisk walk, jog, cycle).</p>
                    </div>
                    <div class="bg-[#118AB2] bg-opacity-20 p-6 rounded-lg">
                        <div class="text-4xl mb-2">üí™</div>
                        <h3 class="text-xl font-bold">Core Strength</h3>
                        <p class="text-gray-700">Target your midsection. Perform 2-3 dedicated 15-20 minute sessions weekly.</p>
                    </div>
                </div>
            </section>
             <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Essential Core Exercises</h2>
                <p class="text-center text-gray-600 mb-6">Targeting your core with consistency is crucial for reducing belly fat and strengthening your midsection.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Plank</h3>
                        <p class="text-gray-700 text-sm mb-2">Strengthens your entire core, including deep abdominal muscles.</p>
                         <p class="text-gray-700 text-sm mb-2">How-to: Start in a push-up position, then lower onto forearms. Keep back straight and hold for 30-60 seconds. 

[Image of plank exercise]
 </p>
                        <a href="https://www.youtube.com/watch?v=pvIjsG5Svck" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Russian Twists</h3>
                        <p class="text-gray-700 text-sm mb-2">Excellent for sculpting your obliques and waistline.</p>
                        <p class="text-gray-700 text-sm mb-2">How-to: Sit with knees bent, lean back slightly. Twist your torso from side to side.  </p>
                        <a href="https://www.youtube.com/watch?v=JyUqwkVpsi8" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Bicycle Crunches</h3>
                        <p class="text-gray-700 text-sm mb-2">Targets upper and lower abs as well as obliques for a full midsection workout.</p>
                        <p class="text-gray-700 text-sm mb-2">How-to: Lie on back, pedal legs. Bring opposite elbow to opposite knee.  </p>
                        <a href="https://www.youtube.com/watch?v=eqg47ZuGZXQ" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Mountain Climbers</h3>
                        <p class="text-gray-700 text-sm mb-2">A dynamic exercise that combines cardio with core work.</p>
                        <p class="text-gray-700 text-sm mb-2">How-to: Start in a plank, alternately bring knees to chest in a running motion.  </p>
                        <a href="https://www.youtube.com/watch?v=hq_0YlyfqGM" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Leg Raises</h3>
                        <p class="text-gray-700 text-sm mb-2">Focuses on strengthening the lower abdominal muscles.</p>
                        <p class="text-gray-700 text-sm mb-2">How-to: Lie on back, keep legs straight. Slowly raise and lower legs without arching your back.  </p>
                        <a href="https://www.youtube.com/watch?v=eqg47ZuGZXQ" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-xl font-bold text-[#FF6B6B] mb-2">Flutter Kicks</h3>
                        <p class="text-gray-700 text-sm mb-2">Targets the lower abs and hip flexors for a toned lower stomach.</p>
                        <p class="text-gray-700 text-sm mb-2">How-to: Lie on back, raise legs slightly. Flutter kick them up and down in small movements.  </p>
                        <a href="https://www.youtube.com/watch?v=Z61R1wDq_W4" target="_blank" class="text-[#118AB2] hover:underline text-sm font-semibold">Watch Tutorial</a>
                    </div>
                </div>
            </section>
            <section class="md:col-span-2 lg:col-span-3 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">Darebee Total Abs Program Preview</h2>
                <p class="text-center text-gray-600 mb-6">Explore the full 30-day program without leaving this page.</p>
                <div class="w-full h-[800px] overflow-hidden rounded-lg shadow-inner">
                    <iframe src="https://darebee.com/pdf/programs/total-abs.pdf" class="w-full h-full" frameborder="0"></iframe>
                </div>
            </section>
            <section class="lg:col-span-1 bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center text-center">
                 <h2 class="text-2xl font-semibold text-[#118AB2] mb-4">Stay Hydrated</h2>
                 <p class="text-gray-600 mb-4">Water is key to boosting metabolism and flushing out toxins.</p>
                 <div class="text-6xl text-[#118AB2]">
                     üíßüíßüíßüíßüíß
                 </div>
                 <p class="text-2xl font-bold mt-4">2.5 - 3 Liters Daily</p>
            </section>

            <section class="lg:col-span-2 bg-white rounded-lg shadow-md p-6">
                <h2 class="text-2xl font-semibold text-center text-[#118AB2] mb-6">The Pillars of Success</h2>
                <div class="space-y-4">
                    <div class="flex items-start p-4 bg-green-50 rounded-lg">
                        <span class="text-2xl mr-4">‚úÖ</span>
                        <div>
                            <h3 class="font-bold text-green-800">Do Embrace</h3>
                            <p class="text-gray-700">Whole grains, healthy fats from nuts & seeds, home-cooked meals, and staying active consistently.</p>
                        </div>
                    </div>
                    <div class="flex items-start p-4 bg-red-50 rounded-lg">
                        <span class="text-2xl mr-4">‚ùå</span>
                        <div>
                            <h3 class="font-bold text-red-800">Do Avoid</h3>
                            <p class="text-gray-700">Processed foods, sugary drinks, skipping meals, and refined flours (maida).</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>
        
        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>This infographic is a guide based on your provided plan. Consult a healthcare professional before starting any new diet or exercise routine.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('calorieDistributionChart').getContext('2d');
            const calorieDistributionChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Breakfast', 'Snacks', 'Lunch', 'Dinner'],
                    datasets: [{
                        label: 'Calorie Distribution',
                        data: [325, 250, 475, 425],
                        backgroundColor: [
                            '#FFD166',
                            '#06D6A0',
                            '#FF6B6B',
                            '#118AB2'
                        ],
                        borderColor: '#ffffff',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    size: 14,
                                    family: 'Inter'
                                }
                            }
                        },
                        tooltip: {
                           callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                      return label.join(' ');
                                    } else {
                                      return label;
                                    }
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });

            const generateBtn = document.getElementById('generateBtn');
            const recipeInput = document.getElementById('recipeInput');
            const recipeOutput = document.getElementById('recipeOutput');
            const generatePlanBtn = document.getElementById('generatePlanBtn');
            const ageInput = document.getElementById('ageInput');
            const heightInput = document.getElementById('heightInput');
            const weightInput = document.getElementById('weightInput');
            const plannerOutput = document.getElementById('plannerOutput');

            generateBtn.addEventListener('click', async () => {
                const prompt = recipeInput.value;
                if (!prompt) {
                    recipeOutput.textContent = 'Please enter a food or ingredient!';
                    return;
                }

                recipeOutput.textContent = 'Generating recipe...';
                
                const systemPrompt = "You are an expert nutritionist and chef specializing in healthy, fat-loss focused Indian cuisine. Provide a simple, healthy recipe idea based on the user's request. Focus on common North and West Indian ingredients. The response should be in markdown format with a title, ingredients list, and instructions. Do not include any additional commentary or warnings.";
                const userQuery = `Generate a healthy recipe for a fat-loss diet based on this request: "${prompt}".`;
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    tools: [{ "google_search": {} }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                let retries = 0;
                const maxRetries = 3;
                const baseDelay = 1000;

                const callApiWithRetry = async (delay) => {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retries < maxRetries) {
                                retries++;
                                await new Promise(res => setTimeout(res, delay));
                                return callApiWithRetry(delay * 2);
                            } else {
                                throw new Error(`API error: ${response.statusText}`);
                            }
                        }

                        const result = await response.json();
                        const text = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (text) {
                            recipeOutput.innerHTML = text.replace(/\n/g, '<br>');
                        } else {
                            recipeOutput.textContent = 'Failed to generate a recipe. Please try again.';
                        }

                    } catch (error) {
                        recipeOutput.textContent = `Error: ${error.message}`;
                    }
                };

                callApiWithRetry(baseDelay);
            });
            
            generatePlanBtn.addEventListener('click', async () => {
                const age = ageInput.value;
                const height = heightInput.value;
                const weight = weightInput.value;

                if (!age || !height || !weight) {
                    plannerOutput.innerHTML = '<p class="text-center text-red-500">Please fill in all fields (age, height, and weight).</p>';
                    return;
                }

                plannerOutput.innerHTML = '<p class="text-center text-gray-500">Generating your personalized food plan...</p>';
                
                const systemPrompt = "You are an expert nutritionist and diet planner. Based on the provided age, height (in cm), and weight (in kg) for a female, generate a complete daily and weekly food planner. The response should be structured clearly with markdown headings for 'Daily Plan' and 'Weekly Plan'. Provide specific, healthy meal ideas for each day, focusing on Indian cuisine. Do not include any extra commentary, just the plans.";
                const userQuery = `Generate a daily and weekly food plan for a female who is ${age} years old, ${height} cm tall, and weighs ${weight} kg.`;
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    tools: [{ "google_search": {} }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                let retries = 0;
                const maxRetries = 3;
                const baseDelay = 1000;

                const callApiWithRetry = async (delay) => {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429 && retries < maxRetries) {
                                retries++;
                                await new Promise(res => setTimeout(res, delay));
                                return callApiWithRetry(delay * 2);
                            } else {
                                throw new Error(`API error: ${response.statusText}`);
                            }
                        }

                        const result = await response.json();
                        const text = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (text) {
                            plannerOutput.innerHTML = text.replace(/\n/g, '<br>');
                        } else {
                            plannerOutput.innerHTML = '<p class="text-center text-red-500">Failed to generate a plan. Please try again.</p>';
                        }

                    } catch (error) {
                        plannerOutput.innerHTML = `<p class="text-center text-red-500">Error: ${error.message}</p>`;
                    }
                };

                callApiWithRetry(baseDelay);
            });
        });
    </script>

</body>
</html>
